class Toast{constructor(){this.containers={},this.defaultLocation="br",this.defaultType="auto",this.defaultTimeout=5,this.typeClasses={info:"bg-blue-500 text-white",warning:"bg-yellow-500 text-gray-900",danger:"bg-red-500 text-white",error:"bg-red-600 text-white",success:"bg-green-500 text-white",light:"bg-gray-100 text-gray-800",dark:"bg-gray-800 text-white",auto:""},this.locationClasses={tl:"top-0 left-0 items-start","top-left":"top-0 left-0 items-start",tc:"top-0 left-0 right-0 items-start justify-center","top-center":"top-0 left-0 right-0 items-start justify-center",tr:"top-0 right-0 items-start justify-end","top-right":"top-0 right-0 items-start justify-end",ml:"top-0 bottom-0 left-0 items-center","middle-left":"top-0 bottom-0 left-0 items-center",mc:"top-0 bottom-0 left-0 right-0 items-center justify-center","middle-center":"top-0 bottom-0 left-0 right-0 items-center justify-center",mr:"top-0 bottom-0 right-0 items-center justify-end","middle-right":"top-0 bottom-0 right-0 items-center justify-end",bl:"bottom-0 left-0 items-end","bottom-left":"bottom-0 left-0 items-end",bc:"bottom-0 left-0 right-0 items-end justify-center","bottom-center":"bottom-0 left-0 right-0 items-end justify-center",br:"bottom-0 right-0 items-end justify-end","bottom-right":"bottom-0 right-0 items-end justify-end"},this.typeMapping={i:"info",w:"warning",d:"danger",e:"error",s:"success",l:"light",dk:"dark",a:"auto"}}getContainer(t){if(!this.containers[t]){const e=document.createElement("div");e.className=`fixed z-50 pointer-events-none flex flex-col gap-2 p-4 ${this.locationClasses[t]||this.locationClasses[this.defaultLocation]}`,document.body.appendChild(e),this.containers[t]=e}return this.containers[t]}show(t,e=null,s=this.defaultType,i=this.defaultLocation,o=this.defaultTimeout){if(!t)return;const a=this.typeMapping[s]||s,n=this.getContainer(i),l=this.createToastElement(t,e,a,o);n.appendChild(l)}createToastElement(t,e,s,i){const o=document.createElement("div");o.className="relative pointer-events-auto rounded-md shadow-lg ring-1 ring-black ring-opacity-5 overflow-hidden p-4 max-w-sm w-full transition-all duration-300 opacity-100 translate-x-0";let a=this.typeClasses[s];"auto"===s&&(a=document.body.classList.contains("dark")||document.documentElement.classList.contains("dark")?this.typeClasses.dark:this.typeClasses.light),o.classList.add(...a.split(" "));const n=document.createElement("div");if(n.className="pr-8",e){const t=document.createElement("div");t.className="font-semibold text-md mb-1",t.textContent=e,n.appendChild(t)}const l=document.createElement("div");l.className="text-sm",l.textContent=t,n.appendChild(l);const r=document.createElement("button");r.type="button",r.className="absolute top-2 right-2 text-gray-400 hover:text-gray-500 focus:outline-none",r.innerHTML='<svg class="h-4 w-4 fill-current" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>',r.addEventListener("click",(()=>this.removeToast(o))),o.appendChild(n),o.appendChild(r);let d=setTimeout((()=>this.removeToast(o)),1e3*i);return o.addEventListener("mouseenter",(()=>clearTimeout(d))),o.addEventListener("mouseleave",(()=>{d=setTimeout((()=>this.removeToast(o)),1e3*i)})),o}removeToast(t){t.classList.add("opacity-0","translate-x-full"),setTimeout((()=>{t.parentNode&&t.parentNode.removeChild(t)}),300)}info(t,e=null,s=this.defaultLocation,i=this.defaultTimeout){this.show(t,e,"info",s,i)}warning(t,e=null,s=this.defaultLocation,i=this.defaultTimeout){this.show(t,e,"warning",s,i)}danger(t,e=null,s=this.defaultLocation,i=this.defaultTimeout){this.show(t,e,"danger",s,i)}error(t,e=null,s=this.defaultLocation,i=this.defaultTimeout){this.show(t,e,"error",s,i)}success(t,e=null,s=this.defaultLocation,i=this.defaultTimeout){this.show(t,e,"success",s,i)}light(t,e=null,s=this.defaultLocation,i=this.defaultTimeout){this.show(t,e,"light",s,i)}dark(t,e=null,s=this.defaultLocation,i=this.defaultTimeout){this.show(t,e,"dark",s,i)}auto(t,e=null,s=this.defaultLocation,i=this.defaultTimeout){this.show(t,e,"auto",s,i)}}const toast=new Toast;window.toast=toast;
